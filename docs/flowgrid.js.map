{"version":3,"file":"flowgrid.js","sources":["../src/fg-container.vue","../src/config.js","../src/cache.js","../src/fg-item.vue","../src/index.js"],"sourcesContent":["<template>\n  <div class=\"fg-container\">\n    <div class=\"fg-layout\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n      }\n    }\n  }\n</script>\n\n<style>\n  .fg-container {\n    position: relative;\n    z-index: 1;\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n  }\n  .fg-layout {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n  .fg-layout[data-fg-resizable=\"false\"] .fg-item-zoom-bar {\n    display: none;\n  }\n  .fg-layout[data-fg-resizable=\"false\"] .fg-item {\n    cursor: default;\n  }\n\n  @media screen and (max-width: 767px) {\n    .fg-layout {\n      width: auto !important;\n      margin: 0 10px;\n    }\n    .fg-layout:after {\n      content: \"\";\n      clear: both;\n    }\n    .fg-layout .fg-item-zoom {\n      display: none;\n    }\n    .fg-item {\n      position: static;\n      width: 100% !important;\n      height: auto !important;\n      float: left !important;\n      transform: translate(0, 0) !important;\n      margin-bottom: 10px;\n    }\n  }\n  .fg-item {\n    cursor: pointer;\n    -webkit-user-select:none;\n    -moz-user-select:none;\n    position: absolute;\n    z-index: 10;\n    background-color: #fff;\n  }\n  .fg-item-content {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n  .fg-item-zoom-bar {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    height: 24px;\n    width: 24px;\n    overflow: hidden;\n    z-index: 2147483647;\n    cursor: se-resize;\n  }\n  .fg-item-zoom-bar:before {\n    content: \"\";\n    position: absolute;\n    z-index: 2147483647;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n  }\n  .fg-item-dragdrop {\n    box-shadow: 2px 2px 2px rgba(144,142,142,0.6);\n    opacity: 0.8;\n    z-index: 2147483647;\n  }\n  .fg-item[data-fg-id=\"placeholder\"] {\n    background-color: #d3d3d3;\n    z-index: 1;\n  }\n  .fg-item-animate {\n    -webkit-transform: translate3d(0,0,0);\n    -webkit-backface-visibility: hidden;\n    -webkit-transform-style: preserve-3d;\n    transition: transform 0.2s, height 0.2s, width 0.2s;\n  }\n</style>\n","// 常量\nexport const CONSTANT = {\n\tTHROTTLE_TIME: 14,                               // 节流函数的间隔时间单位ms, FPS : 1000 / CONSTANT.THROTTLE_TIME\n\tMEDIA_QUERY_SMALL: 768,                          // 分辨率768px\n\tMEDIA_QUERY_MID: 992,                           // 分辨率992px\n\tMEDIA_QUERY_BIG: 1200,                          // 分辨率1200px\n\tFG_CONTAINER: 'fg-container',                   // 拖拽容器classname\n\tFG_LAYOUT: 'fg-layout',                         // 拖拽容器的布局区classname\n\tFG_LAYOUT_DRAGGABLE: 'data-fg-draggable',       // 布局区拖拽属性\n\tFG_LAYOUT_RESIZABLE: 'data-fg-resizable',       // 布局区缩放属性\n\tFG_LAYOUT_INDEX: 'data-fg-index',               // 布局区编号\n\tFG_ITEM: 'fg-item',                             // 拖拽块classname\n\tFG_ITEM_ANIMATE: 'fg-item-animate',             // 拖拽块classname 动画效果\n\tFG_ITEM_CONTENT: 'fg-item-content',             // 拖拽块的展示内容区div的classname\n\tFG_ITEM_ZOOM_BAR: 'fg-zoom-bar',                // 拖拽块内部放大缩小div的classname\n\tFG_ITEM_ZOOM_BAR_ICO: 'fg-zoom-bar-ico',        // 拖拽块内部放大缩小div里面图标的classname\n\tFG_ITEM_DRAG_BAR: 'fg-drag-bar',                // 拖拽块可以进行拖拽div的classname\n\tFG_ITEM_DRAG_BAR_ICO: 'fg-drag-bar-ico',        // 拖拽块可以进行拖拽div里面图标的classname\n\tFG_ITEM_GRAG_DROP: 'fg-item-dragdrop',          // 正在拖拽的块classname\n\tFG_ITEM_PLACEHOLDER: 'fg-item-placeholder',     // 拖拽块的占位符\n\tFG_ITEM_DATA_ID: 'data-fg-id',                  // 拖拽块的数据标识id\n\tPLACEHOLDER: 'placeholder'                      // 占位符\n}\n\nconst f = function () {};\n\n// 全局配置\nexport const globalConfig = {\n\tclassName: '',                                     // 自定义换肤class\n\trow: 7,                                            // 网格布局的默认行,默认7行\n\tcol: 12,                                           // 网格布局的默认列,默认12列\n\tcontainer: null,                                   // 网格容器的dom对象\n\tdistance: 5,                                       // 触发拖拽的拖拽距离,默认5px\n\tdraggable: true,                                   // 是否允许拖拽, 默认允许\n\tresizable: true,                                   // 是否允许缩放, 默认允许\n\tisDragBar: false,                                  // 是否启用拖拽句柄, 默认不启明\n\tnodeMinW: 2,                                       // 节点块的最小宽度, 默认占2格\n\tnodeMinH: 2,                                       // 节点块的最小高度, 默认占2格\n\toverflow: 5,                                       // 当拖拽或缩放超出网格容器的溢出像素\n\tpadding: {                                         // 节点块之间的间距, 默认都为5px\n\t\ttop: 5,\n\t\tleft: 5,\n\t\tright: 5,\n\t\tbottom: 5\n\t},\n\tcellScale: {                                       // 单元格的宽高比例, 默认16:9\n\t\tw: 16,\n\t\th: 9\n\t},\n\tautoAddCell: {                                     // 自动添加节点的默认数据\n\t\tx: 0,\n\t\ty: 0,\n\t\tw: 2,\n\t\th: 2\n\t},\n\tonDragStart: f,                                     // 回调函数, 开始拖拽\n\tonDragEnd: f,                                       // 回调函数, 结束拖拽\n\tonResizeStart: f,                                   // 回调函数, 开始缩放\n\tonResizeEnd: f,                                     // 回调函数, 结束拖拽\n\tonAddNode: f,                                       // 回调函数, 添加节点\n\tonDeleteNode: f,                                    // 回调函数, 删除节点\n\tonLoad: f                                           // 回调函数, 重新加载\n}\n","// 网格对象的缓存对象\nimport {CONSTANT, globalConfig} from './config';\nimport utils from './utils';\nimport handleEvent from './event';\nimport dragdrop from './dragdrop';\nimport view from './view';\nimport Flowgrid from './api';\n\nvar cache = {\n\tcount: 0,\n\tget: function (node) {\n\t\tvar container = view.searchUp(node, CONSTANT.FG_LAYOUT);\n\t\treturn cache[container.getAttribute(CONSTANT.FG_LAYOUT_INDEX)]\n\t}\n};\n\nexport default cache;\n\n// /**\n//  * 网格对象的缓存对象\n//  */\n// export default {\n// \tinit: function () {\n// \t\tif (!this.arr) this.arr = [];\n// \t},\n// \tget: function (idx) {\n// \t\t// 避免0的情况, if条件判断麻烦\n// \t\treturn this.arr[idx - 1];\n// \t},\n// \tset: function (obj) {\n// \t\tthis.arr.push(obj);\n// \t\treturn obj;\n// \t},\n// \tremove: function(dk) {\n// \t\tthis.arr.forEach(function(obj, i, arr) {\n// \t\t\tdk === obj && arr.splice(i, 1);\n// \t\t});\n// \t},\n// \tindex: function () {\n// \t\treturn this.arr.length + 1;\n// \t},\n// \tlist: function() {\n// \t\treturn this.arr;\n// \t}\n// };\n","<template>\n  <div class=\"fg-item\">\n    <div class=\"fg-item-content\">\n      <slot></slot>\n    </div>\n    <div class=\"fg-item-zoom-bar\"></div>\n  </div>\n</template>\n\n<script>\n  // import {CONSTANT, globalConfig} from './config';\n   import cache from './cache';\n  // import utils from './utils';\n  // import handleEvent from './event';\n  // import dragdrop from './dragdrop';\n  // import view from './view';\n  // import Flowgrid from './api';\n\n  function instance(options, container, originalData) {\n    // 初始化监听, 单例, 仅绑定一次\n    handleEvent.init(true, document.body);\n    // 判断容器\n    if (!container)\n      container = document.querySelector('.' + CONSTANT.FG_LAYOUT);\n    else if (typeof jQuery === \"object\" && container instanceof jQuery)\n      container = container[0];\n    // 设置编号\n    var index = ++cache.count;\n    if (!container.getAttribute(CONSTANT.FG_LAYOUT_INDEX)) {\n      container.setAttribute(CONSTANT.FG_LAYOUT_INDEX, index);\n    }\n    cache[index] = new Flowgrid(options, container, originalData);\n    return cache[index];\n  }\n\n  // 销毁实例\n  function destroy(flowgrid) {\n    delete cache[flowgrid.opt.container.getAttribute(CONSTANT.FG_LAYOUT_INDEX)];\n    flowgrid.destroy();\n    flowgrid = null;\n  }\n\n  export default {\n    data () {\n      return {\n      }\n    }\n  }\n</script>\n\n<style>\n  .abcd {\n    color: red;\n  }\n</style>\n","import { version } from '../package.json';\nimport fgContainer from './fg-container.vue';\nimport fgItem from './fg-item.vue';\n\nexport default {\n\tversion,\n\tfgContainer,\n\tfgItem\n}\n"],"names":["CONSTANT"],"mappings":";;;;;;;;AASE,kBAAe;;;GAAA;qBAAA;MAAA,kBACL;WACC,EAAP;;CAFJ;;ACTF,KACA,AAAO,AAAMA,AAuBb,AAAsB,AAAtB,AAGA,AAAO;;AC3BP;AACA,AACA,AACA,AACA,AACA,AACA,AAEA,AAGsCA,AACAA,AAItC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0BE,aAAe;;;GAAA;qBAAA;MAAA,kBACL;WACC,EAAP;;CAFJ;;ACtCF,YAAe;iBAAA;yBAAA;;CAAf;;;;"}